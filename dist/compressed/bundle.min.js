!function t(e,i,r){function a(o,s){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(n)return n(o,!0);var p=new Error("Cannot find module '"+o+"'");throw p.code="MODULE_NOT_FOUND",p}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return a(i?i:t)},c,c.exports,t,e,i,r)}return i[o].exports}for(var n="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,e,i){function r(t){this.x=t.x||300,this.y=t.y||300,this.width=t.width||40,this.height=t.height||40,this.ttl=t.ttl,this.id=t.id||"random",this.opacity=t.opacity||"1",this["class"]=t["class"]||"",this.type=t.type||"output"}r.prototype.updateColor=function(t){this.color=t},r.prototype.init=function(){this.drawTarget()},r.prototype.drawTarget=function(){var t=Math.floor(19*Math.random())+1,e=this.x-this.width/2,i=this.y-this.height/2,r=d3.select("#"+this.type+"-svg").append("g");r.attr("class",this["class"]),r.style("opacity",this.opacity);var a=(r.append("rect").attr({x:e,y:i,width:this.width,height:this.height,id:this.id+"-target","class":this["class"]+"-target"}).style("opacity",0),r.append("rect").attr({x:e,y:i,width:this.width,height:this.height,id:this.id+"-sprite","class":this["class"]+"-sprite"}));a.style({fill:"url(#tar"+t+")"})},e.exports=r},{}],2:[function(t,e,i){function r(t){this.head={x:t.head.x||250,y:t.head.y||250},this.tail={x:t.tail.x||250,y:t.tail.y||250},this.color=t.color||"#92989F",this.type=t.type||"input",this.stroke=t.stroke||8}r.prototype.init=function(){this.drawVector()},r.prototype.drawVector=function(){this.type?d3.select("#"+this.type+"-svg").append("path").attr({stroke:this.color,"stroke-width":this.stroke,d:this.generatePath(),id:this.type+"-vector"}):console.log("Invalid vector type: ",this.type)},r.prototype.generatePath=function(){return"M"+this.tail.x+" "+this.tail.y+" L"+this.head.x+" "+this.head.y+" z"},e.exports=r},{}],3:[function(t,e,r){function a(t){this.minX=t.minX||-10,this.minY=t.minY||-10,this.maxX=t.maxX||10,this.maxY=t.maxY||10,this.pixelWidth=t.pixelWidth||400,this.pixelHeight=t.pixelHeight||400,this.originX=this.pixelWidth*-this.minX/(this.maxX-this.minX)||200,this.originY=this.pixelHeight*-this.minY/(this.maxY-this.minY)||200,this.origin={x:this.originX,y:this.originY},this.type=t.type||"not a valid type",this.timer=t.timer||this.getTimer()}var n=t("../sauron/sauron.js"),o=new n({}),s=t("../tutorial/tutorial.js"),u=t("../utilities/math.js");a.prototype.vectorDrag=function(){return self=this,d3.behavior.drag().on("dragstart",function(){o.tellSauron(d3.mouse(this),"drag"),s.tutorialControl(2,500);var t=self.getTimer();t-self.timer<=200&&o.tellSauron(d3.mouse(this),"dbclick"),self.timer=t}).on("drag",function(){o.tellSauron(d3.mouse(this),"drag"),s.tutorialControl(3,500)})},a.prototype.getCanvas=function(t){var e=t||this.type;return d3.select("#"+e+"-canvas")},a.prototype.getSvg=function(t){var e=t||this.type;return d3.select("#"+e+"-svg")},a.prototype.getDefs=function(t){var e=t||this.type;return d3.select("#"+e+"-defs")},a.prototype.getTar=function(t){return d3.select("#tar"+t)},a.prototype.appendSvg=function(t){var e=t||this.type;this.getCanvas(e).append("svg").attr({id:e+"-svg",width:this.pixelWidth,height:this.pixelHeight})},a.prototype.appendImageToPattern=function(){if("output"===this.type){for(i=1;i<20;i++){var t=this.getTar(i);t.append("image").attr({x:"0",y:"0",width:"40",height:"40","xlink:href":"../public/img/items/glow/target"+i+".gif"})}var e=this.getTar("arm");e.append("image").attr({x:"0",y:"0",width:"30px",height:"100px","xlink:href":"../public/img/robotarm.gif"})}if("input"===this.type){var r=this.getTar("blip");r.append("image").attr({x:"0",y:"0",width:"40",height:"40","xlink:href":"../public/img/blip.gif"})}},a.prototype.appendPatternToDefs=function(){var t=this.getDefs();if("output"===this.type){for(i=1;i<20;i++)t.append("pattern").attr({id:"tar"+i,x:"0",y:"0",height:"40",width:"40"});t.append("pattern").attr({id:"tararm",x:"0",y:"0",height:"100px",width:"30px"})}"input"===this.type&&t.append("pattern").attr({id:"tarblip",x:"0",y:"0",height:"40",width:"40"})},a.prototype.appendDefsToSvg=function(){var t=this.getSvg();t.append("defs").attr("id",this.type+"-defs")},a.prototype.drawCanvas=function(){return this.type?(this.appendSvg(),void("input"===this.type?(this.getCanvas().call(this.vectorDrag()),this.drawTargetsOnCanvas()):"output"===this.type&&this.drawTargetsOnCanvas())):void console.log("Invalid Canvas Type")},a.prototype.drawTargetsOnCanvas=function(){this.appendDefsToSvg(),this.appendPatternToDefs(),this.appendImageToPattern()},a.prototype.drawProgressBar=function(){var t=d3.select("#progress-container");t.append("div").attr({"class":"progress-bar progress-bar-success progress-bar-striped active",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100",id:"progressbar"}),t.append("span").attr({id:"score","class":"sr-only"})},a.prototype.proximity=function(t,e){u.isClose(targetX,targetY,500)?e.updateColor("#e5e5ff",e.id):u.isClose(targetX,targetY,450)?e.updateColor("#ccccff",e.id):u.isClose(targetX,targetY,400)?e.updateColor("#b2b2ff",e.id):u.isClose(targetX,targetY,350)?e.updateColor("#9999ff",e.id):u.isClose(targetX,targetY,300)?e.updateColor("#7f7fff",e.id):u.isClose(targetX,targetY,250)?e.updateColor("#6666ff",e.id):u.isClose(targetX,targetY,200)?e.updateColor("#4c4cff",e.id):u.isClose(targetX,targetY,150)?e.updateColor("#3232ff",e.id):u.isClose(targetX,targetY,100)?e.updateColor("#1919ff",e.id):u.isClose(targetX,targetY,50)&&e.updateColor("#0000ff",e.id)},a.prototype.drawTarget=function(t){d3.select("#"+this.type+"-canvas").append("circle").attr({cx:t.x,cy:t.y,r:t.r,color:t.color})},a.prototype.getTimer=function(){var t=new Date;return t.getTime()},e.exports=a},{"../sauron/sauron.js":12,"../tutorial/tutorial.js":13,"../utilities/math.js":15}],4:[function(t,e,i){e.exports={inputCanvasSettings:{type:"input",minX:-10,minY:-10,maxX:10,maxY:10,pixelWidth:500,pixelHeight:500},outputCanvasSettings:{type:"output",minX:-10,minY:-10,maxX:10,maxY:10,pixelWidth:500,pixelHeight:500},inputVectorSettings:{type:"input",tail:{x:null,y:null},head:{x:null,y:null}},outputVectorSettings:{type:"output",tail:{x:null,y:null},head:{x:null,y:null},stroke:9},targetSettings:{x:355,y:50,r:20},sauron:{matrix:[[1,2],[2,1]],level:1,type:"random"}}},{}],5:[function(t,e,i){function r(){$(window).ready(function(){u.init(),$("#guide").click(function(t){var e=document.getElementById("guide"),i=document.getElementById("tutorial");u.show&&(t.target!=i&&t.target!=e||!u.reopen)&&(u.clearTimer(),$("#tutorial").popover("hide"),u.show=!1,u.reopen=!0)}),$("#tutorial").click(function(t){!u.show&&u.reopen&&u.tutorialControl(--u.num,1,!0)}),u.tutorialControl(1,5e3)})}function a(){var t=new n(p.inputCanvasSettings),e=new o(p.inputVectorSettings),i=new o(p.outputVectorSettings),r=new n(p.outputCanvasSettings);t.drawCanvas(),r.drawCanvas(),r.drawProgressBar(),e.init(),i.init(),c.generateRandomLineofDeath(!0)}var n=t("../canvas/canvas.js"),o=t("../actors/vector.js"),s=(t("../actors/target.js"),t("../sauron/sauron.js")),u=t("../tutorial/tutorial.js"),p=t("./config.js"),c=new s(p.sauron);startLevel1=function(){a(),r()}},{"../actors/target.js":1,"../actors/vector.js":2,"../canvas/canvas.js":3,"../sauron/sauron.js":12,"../tutorial/tutorial.js":13,"./config.js":4}],6:[function(t,e,i){setTimeout(function(){$(".infoLeft").fadeIn()},5e3)},{}],7:[function(t,e,i){e.exports={inputCanvasSettings:{type:"input",minX:-10,minY:-10,maxX:10,maxY:10,pixelWidth:500,pixelHeight:500},outputCanvasSettings:{type:"output",minX:-10,minY:-10,maxX:10,maxY:10,pixelWidth:500,pixelHeight:500},inputVectorSettings:{type:"input",tail:{x:null,y:null},head:{x:null,y:null},stroke:9},outputVectorSettings:{type:"output",tail:{x:null,y:null},head:{x:null,y:null}},sauron:{matrix:[[1,2],[2,1]],level:2,type:"line"}}},{}],8:[function(t,e,i){function r(){var t=new a(s.inputCanvasSettings),e=new n(s.inputVectorSettings),i=new n(s.outputVectorSettings),r=new a(s.outputCanvasSettings);t.drawCanvas(),r.drawCanvas(),r.drawProgressBar(),e.init(),i.init(),u.generateRandomCircleofDeath(!0)}var a=t("../canvas/canvas.js"),n=t("../actors/vector.js"),o=(t("../actors/target.js"),t("../sauron/sauron.js")),s=t("./config.js"),u=new o(s.sauron);startLevel2=function(){r()}},{"../actors/target.js":1,"../actors/vector.js":2,"../canvas/canvas.js":3,"../sauron/sauron.js":12,"./config.js":7}],9:[function(t,e,i){e.exports={inputCanvasSettings:{type:"input",minX:-10,minY:-10,maxX:10,maxY:10,pixelWidth:500,pixelHeight:500},outputCanvasSettings:{type:"output",minX:-10,minY:-10,maxX:10,maxY:10,pixelWidth:500,pixelHeight:500},inputVectorSettings:{type:"input",tail:{x:null,y:null},head:{x:null,y:null},stroke:9},outputVectorSettings:{type:"output",tail:{x:null,y:null},head:{x:null,y:null}},sauron:{matrix:[[1,2],[2,1]],level:3,type:"circle"}}},{}],10:[function(t,e,i){function r(){var t=new a(s.inputCanvasSettings),e=new n(s.inputVectorSettings),i=new n(s.outputVectorSettings),r=new a(s.outputCanvasSettings);t.drawCanvas(),r.drawCanvas(),r.drawProgressBar(),e.init(),i.init(),u.generateTarget(!0)}var a=t("../canvas/canvas.js"),n=t("../actors/vector.js"),o=(t("../actors/target.js"),t("../sauron/sauron.js")),s=t("./config.js"),u=new o(s.sauron);startLevel3=function(){r()}},{"../actors/target.js":1,"../actors/vector.js":2,"../canvas/canvas.js":3,"../sauron/sauron.js":12,"./config.js":9}],11:[function(t,e,i){setTimeout(function(){$(".infoLeft").fadeIn()},5e3)},{}],12:[function(t,e,i){function r(t){this.armies=[],this.level=t==={}?-1:t.level,this.matrix=[[1,2],[2,1]],this.deathToll=0,this.enable=!0}var a=t("../utilities/math.js"),n=t("../actors/target.js"),o=t("../tutorial/tutorial.js");r.prototype.setMatrix=function(){var t=a.getRandom(.5,1.5),e=a.getRandom(1,2),i=[[t,0],[0,e]],r=a.getRandom(Math.PI/2,3*Math.PI/2),n=[[Math.cos(r),-Math.sin(r)],[Math.sin(r),Math.cos(r)]];this.matrix=[[n[0][0]*i[0][0]+n[0][1]*i[1][0],n[0][0]*i[0][1]+n[0][1]*i[1][1]],[n[1][0]*i[0][0]+n[1][1]*i[1][0],n[1][0]*i[0][1]+n[1][1]*i[1][1]]]},r.prototype.applyTransformation=function(t,e,i){var i=this.matrix,r=a.screenToMath(t,e),n=[i[0][0]*r[0]+i[0][1]*r[1],i[1][0]*r[0]+i[1][1]*r[1]];return a.mathToScreen(n[0],n[1])},r.prototype.updateInputVector=function(t){this.removeVector("input"),d3.select("#input-svg").append("path").attr({stroke:"#31BA29","stroke-width":"8",d:"M 250 250 L"+t.x+" "+t.y+"z",id:"input-vector"})},r.prototype.removeVector=function(t){d3.select("#"+t+"-vector").remove()},r.prototype.updateOutputVector=function(t){var e=a.applyMatrix(t.x,t.y,this.matrix);this.removeVector("output");var i=Math.sqrt((250-e[0])*(250-e[0])+(250-e[1])*(250-e[1])),r=-1*Math.atan((e[0]-250)/(e[1]-250))*180/Math.PI;e[1]>250&&(r+=180);var n=20,o="none";if(300>i&&(o="xMinYMin slice"),0===d3.select("#output-vector").size()){d3.select("#output-svg").append("image").attr({x:e[0]-n/2,y:e[1],width:""+n+"px",height:""+i+"px",preserveAspectRatio:o,id:"output-vector","xlink:href":"../public/img/robotarm.gif",transform:"rotate("+r+","+e[0]+","+e[1]+")"})}else d3.select("#output-vector").attr({x:e[0]-n/2,y:e[1],width:""+n+"px",height:"100px",preserveAspectRatio:o,transform:"rotate("+r+","+e[0]+","+e[1]+")"})},r.prototype.getArmies=function(){return d3.select("#output-svg").selectAll(".new-target")},r.prototype.updateTargets=function(t,e){var i=this.getArmies(),r=a.applyMatrix(t.x,t.y,this.matrix),n=this;i.each(function(){var t=d3.select(this),i=t.attr("id"),s=Number(t.attr("width")),u=Number(t.attr("height")),p=Number(t.attr("x"))+s/2,c=Number(t.attr("y"))+u/2;a.isClose(r[0],r[1],p,c,s/2,u/2)?(t.sprite().style("opacity")>.9&&t.sprite().jump(10,250),"collision"===e?(t.sprite().transition(),d3.select(t.node().parentNode).attr("class","clicked"),t.setClicked(),t.sprite().transition().attr("y",t.attr("y")).style("opacity",.4).duration(250),n.deathToll++,n.updateProgress(),n.drawBlips(p,c),0===n.getArmies().size()&&n.generateNewTargets(i)):"detection"===e&&o.tutorialControl(4,1)):t.sprite().transition().style("opacity",1).attr("y",t.attr("y"))})},r.prototype.checkNumberOfBlips=function(){return d3.selectAll(".blips").size()},r.prototype.removeBlips=function(t){var e=this;this.deathToll=0,d3.selectAll(".clicked-target").remove(),d3.selectAll(".clicked-sprite").transition().style("opacity",1).duration(100),d3.selectAll(".clicked, .blips").slowDeath(2e3),this.enable=!1,setTimeout(function(){d3.selectAll(".clicked").remove(),d3.selectAll(".new").isBorn(500),e.enable=!0},2001)},r.prototype.generateNewTargets=function(t){if(this.setMatrix(),-1!==t.indexOf("random")){var e=!1;this.checkNumberOfBlips()>=5&&(this.removeBlips(),e=!0),this.generateTarget(!e)}else-1!==t.indexOf("line")?(this.generateRandomLineofDeath(),this.removeBlips()):-1!==t.indexOf("circle")&&(this.generateRandomCircleofDeath(),this.removeBlips())},r.prototype.tellSauron=function(t,e){var i=this.convertMouseToCoord(t);return this.enable?void("drag"===e?(this.updateInputVector(i),this.updateOutputVector(i),o.show&&o.reopen||this.updateTargets(i,"detection")):"dbclick"===e&&this.updateTargets(i,"collision")):(this.updateInputVector(i),void this.updateOutputVector(i))},r.prototype.convertMouseToCoord=function(t){return{x:t[0],y:t[1]}},r.prototype.updateProgress=function(){var t=d3.select("#progressbar"),e=d3.select("#score");currScore=t.attr("aria-valuenow"),Number(currScore)>=100?(currScore=100,e.text("Proceed To Next Level!")):(this.level<=1?currScore=Number(currScore)+5:currScore=Number(currScore)+100/24,e.text(currScore+"% Complete")),t.style("width",currScore+"%"),t.attr("aria-valuenow",currScore)},r.prototype.generateTarget=function(t){var e=t?1:0,i=!1,r=this.matrix;for(r[0][0]*r[1][1]-r[0][1]*r[1][0];!i;){var n={x:a.getRandom(0,500),y:a.getRandom(0,500)};if(a.isOnScreen(r,n)){i=!0;var o={x:n.x,y:n.y,width:40,height:40,color:"black",id:"random_"+this.deathToll,"class":"new",opacity:""+e};this.drawTarget(o)}}},r.prototype.drawBlips=function(t,e){var i=a.applyInverse(t,e,this.matrix);d3.select("#input-svg").append("circle").attr({cx:i.x,cy:i.y,r:20}).attr("class","blips").style({fill:"url(#tarblip)"})},r.prototype.generateRandomCircleofDeath=function(t){var e=t?1:0,i=a.getValidPreImageOval(this.matrix),r=0;for(var n in i){var o=i[n],s=a.mathToScreen(o.x,o.y),u={x:s[0],y:s[1],width:40,height:40,color:"black",id:"circle_"+r,"class":"new",opacity:""+e};this.drawTarget(u),r++}},r.prototype.generateRandomLineofDeath=function(t){var e=t?1:0,i=a.getValidPreImagePairs(),r=0;for(var n in i){var o=i[n],s=a.mathToScreen(o.x,o.y,this.matrix),u={x:s[0],y:s[1],width:40,height:40,color:"black",id:"line_"+r,"class":"new",opacity:""+e};this.drawTarget(u),r++}},r.prototype.drawTarget=function(t){var e=new n(t);e.drawTarget()},e.exports=r},{"../actors/target.js":1,"../tutorial/tutorial.js":13,"../utilities/math.js":15}],13:[function(t,e,i){function r(t){this.num=1,this.show=!1,this.reopen=!1,this.timer=null}r.prototype.init=function(){$("#tutorial").popover()},r.prototype.tutorialControl=function(t,e,i){tutor=this,this.show&&this.reopen||t!=this.num||(1===t&&(this.num++,d3.select("#tutorial").attr("data-content","Click the radar screen to activate the robot arm!")),2===t&&(this.num++,d3.select("#tutorial").attr("data-content","Click and drag the arm in the radar screen to move the robot's arm!")),3===t&&(this.num++,d3.select("#tutorial").attr("data-content","Help the robot reach the parts. Move the arm on the input screen so that his arm can pick up the pieces.")),4===t&&(this.num++,d3.select("#tutorial").attr("data-content","Double click the radar screen to collect the part")),setTimeout(function(){$("#tutorial").popover("show"),tutor.show=!0,tutor.reopen=!1},e),i||(tutor.setTimer(1e4),tutor.show=!1,tutor.reopen=!0))},r.prototype.clearTimer=function(){clearTimeout(this.timer)},r.prototype.setTimer=function(t){this.timer=setTimeout(function(){$("#tutorial").popover("hide")},t)},e.exports=new r},{}],14:[function(t,e,i){var r=t("../utilities/math.js");d3.selection.prototype.spinAndBlink=function(t){var e=this;return e.style("opacity",.9),function i(){function a(){var t=d3.select(this),e=t.attr("width"),i=t.attr("height"),r=Number(t.attr("x"))+e/2,a=Number(t.attr("y"))+i/2,n=d3.interpolate(0,360);return function(t){return"rotate("+n(t)+","+r+","+a+")"}}function n(){var e=d3.select(this),i=e.attr("width"),a=e.attr("height"),n=Number(e.attr("x"))+i/2,o=Number(e.attr("y"))+a/2,s=r.applyMatrix(t.pos.x,t.pos.y,t.matrix),u=2e3;return r.isInRange(s[0],s[1],n,o,i/2,a/2,2)&&(u/=2),r.isClose(s[0],s[1],n,o,i/2,a/2)&&(u/=2),u}"clicked"!==e.attr("class")&&"dead"!==e.attr("class")&&(e=e.transition().attrTween("transform",a).duration(n).transition().style("opacity",.5).duration(250).transition().style("opacity",.9).duration(250).each("end",i))}(),this},d3.selection.prototype.blink=function(t,e,i){var a=this;return a.style("opacity",.9),function n(){function o(){var e=d3.select(this),a=e.attr("width"),n=e.attr("height"),o=Number(e.attr("x"))+a/2,s=Number(e.attr("y"))+n/2,u=r.applyMatrix(t.pos.x,t.pos.y,t.matrix),p=i;return r.isInRange(u[0],u[1],o,s,a/2,n/2,2)&&(p/=2),r.isClose(u[0],u[1],o,s,a/2,n/2)&&(p/=2),p}"clicked"!==a.attr("class")&&"dead"!==a.attr("class")&&(a=a.transition().style("opacity",.5).duration(e?o:i).transition().style("opacity",.9).duration(e?o:i).each("end",n))}(),this},d3.selection.prototype.jump=function(t,e){var i=this;i.style("opacity",.9);var r=i.attr("y");return function a(){var n=i.node().className.baseVal;"clicked-sprite"!==n&&"dead"!==n&&(i=i.transition().attr("y",Number(r)+t).duration(e).transition().attr("y",Number(r)-t).duration(e).each("end",a))}(),this},d3.selection.prototype.randomlines=function(t){var e=this;!function i(){var a=r.getRandom(0,460),n=r.getRandom(0,460);e=e.transition().attr("x",a).attr("y",n).ease("linear").duration(function(){var e=Number(d3.select(this).attr("x")),i=Number(d3.select(this).attr("y")),r=(Number(e)-a)*(Number(e)-a),o=(Number(i)-n)*(Number(i)-n),s=Math.sqrt(r+o)*t;return s}).each("end",i)}()},d3.selection.prototype.slowDeath=function(t){return this.attr("class","dead").transition().style("opacity",0).duration(t),setTimeout(function(){d3.selectAll(".dead").remove()},t+100),this},d3.selection.prototype.isBorn=function(t){return this.transition().style("opacity",1).duration(t),setTimeout(function(){d3.select(this).style("opacity",1)},t+100),this},d3.selection.prototype.wait=function(t){return this.transition().duration(t),this},d3.transition.prototype.setRotation=function(t){return this.attrTween("transform",function(){var e=d3.select(this),i=e.attr("width"),r=e.attr("height"),a=Number(e.attr("x"))+i/2,n=Number(e.attr("y"))+r/2;return function(){return"rotate("+t+","+a+","+n+")"}}),this},d3.selection.prototype.setClicked=function(){var t=this,e=t.attr("id"),i=e.split("-")[0],r=d3.select("#"+i+"-sprite");r.attr("class","clicked-sprite"),t.attr("class","clicked-target")},d3.selection.prototype.sprite=function(){var t=this,e=t.attr("id"),i=e.split("-")[0],r=d3.select("#"+i+"-sprite");return r},d3.selection.prototype.animateSprite=function(){var t=this;return t.sprite().transition()}},{"../utilities/math.js":15}],15:[function(t,e,i){e.exports={screenToMath:function(t,e){return[10*(t-250)/250,10*-(e-250)/250]},mathToScreen:function(t,e){return[250*t/10+250,250*-e/10+250]},applyInverse:function(t,e,i){var r=i[0][0]*i[1][1]-i[0][1]*i[1][0],a=this.screenToMath(t,e),n=(i[1][1]*a[0]-i[0][1]*a[1])/r,o=(-i[1][0]*a[0]+i[0][0]*a[1])/r,a=this.mathToScreen(n,o);return{x:a[0],y:a[1]}},applyMatrix:function(t,e,i){var r=this.screenToMath(t,e),a=[i[0][0]*r[0]+i[0][1]*r[1],i[1][0]*r[0]+i[1][1]*r[1]];return this.mathToScreen(a[0],a[1])},getRandom:function(t,e){return Math.random()*(e-t)+t},isClose:function(t,e,i,r,a,n){return Math.abs(i-t)<=a&&Math.abs(r-e)<=n},isOnScreen:function(t,e){var i=this.screenToMath(e.x,e.y),r=t[0][0]*t[1][1]-t[0][1]*t[1][0],a=(t[1][1]*i[0]-t[0][1]*i[1])/r,n=(-t[1][0]*i[0]+t[0][0]*i[1])/r;return i=this.mathToScreen(a,n),i[0]>=0&&i[0]<=500&&i[1]>=0&&i[1]<=500},getValidPreImageCircle:function(){for(var t=[],e=Math.random()*Math.PI,i=4*Math.random()+4,r=0;8>r;r++)t.push({x:i*Math.cos(e),y:i*Math.sin(e)}),e+=Math.PI/4;return t},getValidPreImageOval:function(t){for(var e=[],i=Math.random()*Math.PI,r=3*Math.random()+1,a=0;8>a;a++)e.push({x:t[0][0]*r*Math.cos(i)+t[0][1]*r*Math.sin(i),y:t[1][0]*r*Math.cos(i)+t[1][1]*r*Math.sin(i)}),i+=Math.PI/4;return e},getValidPreImagePairs:function(){for(var t=[],e=[1.5,4.5,7.5],i=Math.PI*Math.random(),r=Math.cos(i),a=Math.sin(i),n=0;n<e.length;n++)t.push({x:e[n]*r,y:e[n]*a}),t.push({x:-1*e[n]*r,y:-1*e[n]*a});return t}}},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]);